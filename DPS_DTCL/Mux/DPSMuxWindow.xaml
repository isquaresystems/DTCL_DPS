<Window x:Class="DTCL.Mux.DPSMuxWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DTCL.Mux"
        mc:Ignorable="d"
        Title="DPS Multiple Unit Performance Check"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen"
        Height="780"
        ResizeMode="CanMinimize" Closed="Window_Closed">

    <!-- Resource Definitions -->
    <Window.Resources>
        <Style x:Key="BaseButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="buttonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#2ECC71"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SharedButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}">
            <Setter Property="FontSize" Value="22"/>
            <Setter Property="Height" Value="80"/>
            <Setter Property="Width" Value="180"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="PCSharedButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="buttonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#2ECC71"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#CCCCCC"/>
                                <Setter Property="Foreground" Value="#666666"/>
                                <Setter Property="Cursor" Value="Arrow"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Label">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#2D3142"/>
            <Setter Property="Margin" Value="10"/>
        </Style>
    </Window.Resources>

    <!-- Main Layout -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Margin="0,0,0,46" Width="1050">
        <Grid x:Name="MULTI_DPS" Margin="14,-5,10,13" Height="709" Width="1010">
            <Grid.RowDefinitions>
                <RowDefinition Height="227*"/>
                <RowDefinition Height="603*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="95*"/>
                <ColumnDefinition Width="359*"/>
                <ColumnDefinition Width="347*"/>
            </Grid.ColumnDefinitions>

            <StackPanel x:Name="PerformanceCheckBlock"
                    Grid.ColumnSpan="3"
                    Background="#E0E0E0"
                    Margin="7,7,0,0"
                    Visibility="Visible" HorizontalAlignment="Left" Height="944" VerticalAlignment="Top" Width="1009" Grid.RowSpan="2">

                <!-- Header -->
                <Label Content="DPS MULTIPLE UNIT PERFORMANCE CHECK"
                       HorizontalAlignment="Center"/>

                <!-- Grid with DataGrid and buttons side-by-side -->
                <Grid Margin="10,5,10,5" Width="920">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="593"/>
                        <ColumnDefinition Width="92.5"/>
                        <ColumnDefinition Width="51.5"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- DataGrid for 8 channels Ã— 4 slots -->
                    <DataGrid x:Name="DPSMuxChannelGrid"
                              AutoGenerateColumns="false"
                              CanUserAddRows="false"
                              HeadersVisibility="Column"
                              BeginningEdit="DPSMuxChannelGrid_BeginningEdit"
                              Margin="5,0,26,0"
                              Grid.Column="0" Grid.ColumnSpan="3">
                        <DataGrid.CellStyle>
                            <Style TargetType="DataGridCell">
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="FontSize" Value="11"/>
                                <Setter Property="Background" Value="Transparent"/>
                            </Style>
                        </DataGrid.CellStyle>
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="FontSize" Value="11"/>
                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>

                        <DataGrid.Columns>
                            <!-- Channel Number -->
                            <DataGridTextColumn Header="Port" Binding="{Binding Channel}" Width="35" IsReadOnly="True"/>

                            <!-- DPS Connected Status -->
                            <DataGridCheckBoxColumn Header="DPS" Binding="{Binding isDPSConnected}" Width="45" IsReadOnly="True"/>

                            <!-- Select Port Checkbox -->
                            <DataGridCheckBoxColumn Width="55"
                                                    Binding="{Binding isUserSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <DataGridCheckBoxColumn.Header>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <CheckBox x:Name="SelectAllCheckBox"
                                                  Content=""
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  IsThreeState="False"
                                                  Checked="SelectAllCheckBox_Checked"
                                                  Unchecked="SelectAllCheckBox_Unchecked"
                                                  Margin="-3,0"/>
                                        <TextBlock Text="Select"
                                                   FontSize="11"
                                                   FontWeight="Bold"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   Margin="0,0"/>
                                    </StackPanel>
                                </DataGridCheckBoxColumn.Header>
                                <DataGridCheckBoxColumn.ElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding isDPSConnected}" Value="True">
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.ElementStyle>
                                <DataGridCheckBoxColumn.EditingElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding isDPSConnected}" Value="True">
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.EditingElementStyle>
                            </DataGridCheckBoxColumn>

                            <!-- Unit S.No -->
                            <DataGridTextColumn Header="Unit SNo" Binding="{Binding UnitSno}" Width="65">
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsChecked, ElementName=withCart}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsChecked, ElementName=withOutCart}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>

                            <!-- Cart Type -->
                            <DataGridTextColumn Header="Cart Type" Binding="{Binding CartType}" Width="60" IsReadOnly="True">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>

                            <!-- 4 DTC Serial Numbers - Only enable if cart detected in corresponding slot -->
                            <DataGridTextColumn Header="DTC1 Sno" Binding="{Binding DTCSerialNumbers[1]}" Width="60">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[1]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="DTC2 Sno" Binding="{Binding DTCSerialNumbers[2]}" Width="60">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[2]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="DTC3 Sno" Binding="{Binding DTCSerialNumbers[3]}" Width="60">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[3]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="DTC4 Sno" Binding="{Binding DTCSerialNumbers[4]}" Width="60">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[4]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="11"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>

                            <!-- 4 Slot Selection Checkboxes -->
                            <DataGridCheckBoxColumn Header="S1" Binding="{Binding IsSlotSelected[1], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="30">
                                <DataGridCheckBoxColumn.ElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[1]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.ElementStyle>
                            </DataGridCheckBoxColumn>
                            <DataGridCheckBoxColumn Header="S2" Binding="{Binding IsSlotSelected[2], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="30">
                                <DataGridCheckBoxColumn.ElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[2]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.ElementStyle>
                            </DataGridCheckBoxColumn>
                            <DataGridCheckBoxColumn Header="S3" Binding="{Binding IsSlotSelected[3], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="30">
                                <DataGridCheckBoxColumn.ElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[3]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.ElementStyle>
                            </DataGridCheckBoxColumn>
                            <DataGridCheckBoxColumn Header="S4" Binding="{Binding IsSlotSelected[4], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="30">
                                <DataGridCheckBoxColumn.ElementStyle>
                                    <Style TargetType="CheckBox">
                                        <Setter Property="IsEnabled" Value="False"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding isUserSelected}" Value="True"/>
                                                    <Condition Binding="{Binding IsCartDetected[4]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGridCheckBoxColumn.ElementStyle>
                            </DataGridCheckBoxColumn>

                            <!-- Overall Result -->
                            <DataGridTextColumn Header="Result" Binding="{Binding OverallPCStatus}" Width="50" IsReadOnly="True"/>
                        </DataGrid.Columns>

                        <!-- Row Styling: Yellow during PC -->
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding isInProgress}" Value="True">
                                        <Setter Property="Background" Value="Yellow"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </DataGrid.RowStyle>
                    </DataGrid>

                    <!-- Buttons aligned vertically -->
                    <StackPanel Grid.Column="3" VerticalAlignment="Center" Height="196">
                        <Button x:Name="Scan" Content="Scan" Style="{StaticResource PCSharedButtonStyle}" Width="168" Click="Scan_Click" Height="78"/>
                        <Button x:Name="Clear" Content="Clear" Style="{StaticResource PCSharedButtonStyle}" Width="166" Click="Clear_Click" Height="78"/>
                    </StackPanel>
                </Grid>

                <!-- Main Content Grid (Two Columns) -->
                <Grid Margin="10,10,10,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="69*" />
                        <ColumnDefinition Width="Auto" MinWidth="17" />
                        <ColumnDefinition Width="73*" />
                    </Grid.ColumnDefinitions>

                    <!-- Left Column: Commands and Status -->
                    <StackPanel Orientation="Vertical" Margin="10,10,81,5" Grid.ColumnSpan="3">

                        <Label Content="COMMANDS" x:Name="CommandsLabel" FontSize="18" FontWeight="Bold" HorizontalAlignment="left" Margin="150,0,0,10"/>
                        <StackPanel Grid.Column="3" Orientation="Horizontal" Margin="0,0,0,10">
                            <Button x:Name="Erase" Content="Erase" Style="{StaticResource PCSharedButtonStyle}" Width="120" Margin="10,0" Height="68"/>
                            <Button x:Name="Write" Content="Write" Style="{StaticResource PCSharedButtonStyle}" Width="120" Margin="10,0" />
                            <Button x:Name="Read" Content="Read" Style="{StaticResource PCSharedButtonStyle}" Width="120" Margin="10,0" />
                        </StackPanel>

                        <StackPanel Grid.Column="3" Orientation="Horizontal" Margin="0,0,0,10">
                            <Button x:Name="LoopBack" Grid.Row="1" Content="Loop Back" Style="{StaticResource PCSharedButtonStyle}" Width="120" Margin="150,0,0,0" Height="68" />
                        </StackPanel>

                        <Label HorizontalAlignment="Left" Content="Status/Cautions/Prompts" FontSize="16" FontWeight="Bold" Grid.Column="2" Margin="0,0,0,-1" Width="211"/>
                        <TextBox x:Name="StatusTextBlock" HorizontalAlignment="Left" Text="" FontSize="13.5" AcceptsReturn="True" TextWrapping="Wrap" FontWeight="Bold" Grid.Column="2" Margin="0,0,0,-10" Grid.RowSpan="2" Grid.ColumnSpan="2" Height="100" Width="410" IsReadOnly="True"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
                            <Image x:Name="Logo" Height="46" Width="58" Source="/swave_icon.png" Margin="0,0,0,0"/>
                            <TextBlock Text="S-WAVE SYSTEMS PVT LTD" Height="48" Width="160" Margin="-0,0,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Vertical Separator -->
                    <Border Grid.Column="1" Width="2" Background="ForestGreen" Margin="27,0,13,0" VerticalAlignment="Top" Height="280"/>

                    <!-- Right Column: Test Configuration -->
                    <StackPanel Grid.Column="2" Orientation="Vertical" HorizontalAlignment="Center" Width="438">

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="left" Margin="30,0,-150,0" Width="1004">
                            <RadioButton x:Name="withCart" Content="With Cartridge" GroupName="CartridgeOption" FontSize="14" FontWeight="Bold" Click="withCart_Click" Width="682" Height="21"/>
                            <RadioButton x:Name="withOutCart" Margin="-500,0,0,0" Content="Without Cartridge" GroupName="CartridgeOption" FontSize="14" FontWeight="Bold" IsChecked="True" Click="withOutCart_Click" Height="20" Width="624"/>
                        </StackPanel>

                        <!-- Test Number -->
                        <StackPanel Orientation="Horizontal" Margin="15,0,0,-18">
                            <Label Content="Test No:" FontSize="18" FontWeight="Bold" Width="165" VerticalAlignment="Center"/>
                            <TextBox x:Name="TestNumber" Text="999" FontSize="15" FontWeight="Bold" Width="200" Height="34"/>
                        </StackPanel>

                        <!-- Inspector Name -->
                        <StackPanel Orientation="Horizontal" Margin="15,0,0,-5">
                            <Label Content="Inspector Name:" FontSize="18" FontWeight="Bold" Width="165" VerticalAlignment="Center"/>
                            <TextBox x:Name="InspectorName" Text="999" FontSize="15" FontWeight="Bold" Width="200" Height="35"/>
                        </StackPanel>

                        <!-- Confirm Log Button -->
                        <Button x:Name="ConfirmLog" Margin="210,0,0,-10" Content="Confirm Log" Style="{StaticResource PCSharedButtonStyle}" Width="180" HorizontalAlignment="Left" Click="ConfirmLog_Click" Height="47"/>

                        <!-- Iteration / Duration Options -->
                        <StackPanel Orientation="Horizontal" Margin="0,20,0,0" HorizontalAlignment="Center" Width="421">
                            <Grid Margin="-6" Height="61">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <RadioButton x:Name="IterationSel" Content="No of Iterations" FontSize="14" FontWeight="Bold" Grid.Column="0" VerticalAlignment="Center" IsChecked="True" Margin="54,0,41,0" Click="IterationSel_Click"/>
                                <TextBox x:Name="IterationCount" Text="1" Grid.Row="0" FontWeight="Bold" FontSize="15" Grid.ColumnSpan="4" Margin="184,0,110,62" Grid.RowSpan="2" TextChanged="IterationCount_TextChanged"/>
                                <RadioButton x:Name="DurationSel" Content="Duration" FontSize="14" FontWeight="Bold" Grid.Row="1" Grid.Column="0" VerticalAlignment="Top" Margin="56,12,74,0" Click="DurationSel_Click"/>
                                <TextBox x:Name="DurationMin" Text="0" Grid.Row="1" FontWeight="Bold" FontSize="15" Margin="184,0,110,33" Grid.ColumnSpan="4" Height="25" VerticalAlignment="Bottom"/>
                                <Label Content="Min" VerticalAlignment="Top" HorizontalAlignment="Right" Width="45" Margin="0,6,69,0" FontSize="14" Grid.Column="2" RenderTransformOrigin="0.024,0.611" Grid.ColumnSpan="2" Grid.Row="1"/>
                                <TextBox x:Name="DurationSec" Text="10" Grid.Column="3" FontWeight="Bold" FontSize="15" Margin="65,9,30,35" Grid.Row="1"/>
                                <Label Content="Sec" Grid.Column="3" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="111,8,0,0" FontSize="14" Width="35" RenderTransformOrigin="1.387,-0.482" Grid.Row="1"/>
                            </Grid>
                        </StackPanel>

                        <!-- Initiate / Stop / Exit Buttons -->
                        <StackPanel Orientation="Horizontal" Margin="-10,20,0,-20" HorizontalAlignment="Center">
                            <Button x:Name="InitiatePC" Content="Initiate PC" Width="120" Height="50" Style="{StaticResource PCSharedButtonStyle}" Click="InitiatePC_Click" Margin="00,0,10,10"/>
                            <Button x:Name="StopPc" Content="Stop" Width="120" Height="50" Style="{StaticResource PCSharedButtonStyle}" Click="StopPC_Click" Margin="00,0,10,10"/>
                            <Button x:Name="Exit" Content="Exit" Width="120" Height="50" Style="{StaticResource PCSharedButtonStyle}" Background="IndianRed" Margin="00,0,10,10" Click="Exit_Click"/>
                        </StackPanel>

                        <ProgressBar x:Name="PCProgressBar" Height="30" Minimum="0" Maximum="100" Value="0" Margin="20,25,10,10" Width="369"/>

                        <Grid Margin="-5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="150"/>
                            </Grid.ColumnDefinitions>
                            <Label Content="Time Elapsed :" Grid.Column="0" FontWeight="Bold" VerticalAlignment="Top" FontSize="14" Margin="48,-1,5,0"/>
                            <TextBox x:Name="TimeElapsed" Width="100" Text="00000" FontSize="15" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="0,0,0,43"/>
                            <Label Content="Sec" Grid.Column="2" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="5,-2,107,0"/>
                            <Label Content="Itr No" Grid.Column="0" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="94,21,1,0"/>
                            <TextBox x:Name="CurrentIteration" Width="100" Text="00000" FontWeight="Bold" FontSize="15" Margin="0,24,0,18" Grid.Column="1"/>
                        </Grid>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Window>
