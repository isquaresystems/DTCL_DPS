<Window x:Class="DTCL.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DTCL"
        mc:Ignorable="d"
        Title="MainWindow" Height="728" Width="1280" Background="#F0F0F0"
        WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize"
        Loaded="Window_Loaded" KeyDown="Window_KeyDown" Closed="Window_Closed">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
        <local:AndToVisibilityConverter x:Key="AndToVis"/>

        <Style TargetType="Button" x:Key="SharedButtonStyle">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="22"/>
            <Setter Property="Height" Value="80"/>
            <Setter Property="Width" Value="180"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="buttonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#2ECC71"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="PCSharedButtonStyle">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="buttonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#2ECC71"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="buttonBorder" Property="Background" Value="#CCCCCC"/>
                                <Setter Property="Foreground" Value="#666666"/>
                                <Setter Property="Cursor" Value="Arrow"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Label">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#2D3142"/>
            <Setter Property="Margin" Value="10"/>
        </Style>
    </Window.Resources>

    <Grid x:Name="Load" Margin="0,-35,-27,-158">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
            <RowDefinition Height="0*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="7*"/>
            <ColumnDefinition Width="11*"/>
            <ColumnDefinition Width="35*"/>
            <ColumnDefinition Width="178*"/>
            <ColumnDefinition Width="586*"/>
            <ColumnDefinition Width="58*"/>
            <ColumnDefinition Width="390*"/>
            <ColumnDefinition Width="42*"/>
        </Grid.ColumnDefinitions>

        <!-- Header -->
        <Label Content="Data Transfer Cartridge Loader" x:Name="HeaderTitle"
               FontSize="28" FontWeight="Bold" Foreground="#2D3142"
               HorizontalAlignment="Center" Margin="0,20,0,20"
               Grid.Column="4" Width="416"/>

        <!-- LAYOUT 1: Detailed Cartridge Section with Slots -->
        <StackPanel x:Name="DetailedCartridgeSection" Grid.Column="0" Background="#E0E0E0"
                    Margin="0,87,0,111" Grid.RowSpan="2" Grid.ColumnSpan="4" Visibility="Visible">
            <Label Content="CARTRIDGES" FontSize="24" FontWeight="Bold" Foreground="#2D3142"/>
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Column Titles -->
                <TextBlock Text="STATUS" Grid.Row="0" Grid.Column="0" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="SELECTION" Grid.Row="0" Grid.Column="1" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="MASTER"   x:Name="masterLabel" Grid.Row="0" Grid.Column="2" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="SLAVE"    x:Name="slaveLabel" Grid.Row="0" Grid.Column="3" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="Unit Sl. No" Grid.Row="0" Grid.Column="4" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="UnitSI No"   Grid.Row="0" Grid.Column="6" FontSize="10" FontWeight="Bold" HorizontalAlignment="Center"/>

                <!-- Slot 1 -->
                <Ellipse x:Name="Slot1Ellipse" Grid.Row="1" Grid.Column="0" Width="40" Height="40"
                         Fill="{Binding Slot1.SlotBrush}" HorizontalAlignment="Center" Margin="0,5"/>
                <CheckBox x:Name="Slot1CheckSel"
                          Grid.Row="1" Grid.Column="1"
                          IsChecked="{Binding Slot1.isSlotSelected, Mode=TwoWay}"
                          IsEnabled="{Binding Slot1.IsControlsEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" Click="Slot1CheckSel_Click"/>
                <CheckBox x:Name="Slot1CheckMst"
                          Grid.Row="1" Grid.Column="2"
                          Tag="{Binding Slot1}"
                          Checked="MasterCheck_Checked" Unchecked="MasterCheck_Unchecked"
                          IsChecked="{Binding Slot1.isMaster, Mode=TwoWay}"
                          IsEnabled="{Binding Slot1.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <CheckBox x:Name="Slot1CheckSlv"
                          Grid.Row="1" Grid.Column="3"
                          Tag="{Binding Slot1}"
                          Content="Slave"
                          Checked="SlaveCheck_Checked" Unchecked="SlaveCheck_Unchecked"
                          IsChecked="{Binding Slot1.isSlave, Mode=TwoWay}"
                          IsEnabled="{Binding Slot1.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <TextBox x:Name="Slot1_UnitSlNo"
                         Grid.Row="1" Grid.Column="4"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot1CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot1.UnitSlNo, Mode=TwoWay}"/>
                <TextBox x:Name="Slot1_UnitSINo"
                         Grid.Row="1" Grid.Column="6"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot1CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot1.UnitSINo, Mode=TwoWay}"/>

                <!-- Slot 2 -->
                <Ellipse x:Name="Slot2Ellipse" Grid.Row="2" Grid.Column="0" Width="40" Height="40"
                         Fill="{Binding Slot2.SlotBrush}" HorizontalAlignment="Center" Margin="0,5"/>
                <CheckBox x:Name="Slot2CheckSel"
                          Grid.Row="2" Grid.Column="1"
                          IsChecked="{Binding Slot2.isSlotSelected, Mode=TwoWay}"
                          IsEnabled="{Binding Slot2.IsControlsEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" Click="Slot2CheckSel_Click"/>
                <CheckBox x:Name="Slot2CheckMst"
                          Grid.Row="2" Grid.Column="2"
                          Tag="{Binding Slot2}"
                          Checked="MasterCheck_Checked" Unchecked="MasterCheck_Unchecked"
                          IsChecked="{Binding Slot2.isMaster, Mode=TwoWay}"
                          IsEnabled="{Binding Slot2.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <CheckBox x:Name="Slot2CheckSlv"
                          Grid.Row="2" Grid.Column="3"
                          Tag="{Binding Slot2}"
                          Content="Slave"
                          Checked="SlaveCheck_Checked" Unchecked="SlaveCheck_Unchecked"
                          IsChecked="{Binding Slot2.isSlave, Mode=TwoWay}"
                          IsEnabled="{Binding Slot2.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <TextBox x:Name="Slot2_UnitSlNo"
                         Grid.Row="2" Grid.Column="4"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot2CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot2.UnitSlNo, Mode=TwoWay}"/>
                <TextBox x:Name="Slot2_UnitSINo"
                         Grid.Row="2" Grid.Column="6"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot2CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot2.UnitSINo, Mode=TwoWay}"/>

                <!-- Slot 3 -->
                <Ellipse x:Name="Slot3Ellipse" Grid.Row="3" Grid.Column="0" Width="40" Height="40"
                         Fill="{Binding Slot3.SlotBrush}" HorizontalAlignment="Center" Margin="0,5"/>
                <CheckBox x:Name="Slot3CheckSel"
                          Grid.Row="3" Grid.Column="1"
                          IsChecked="{Binding Slot3.isSlotSelected, Mode=TwoWay}"
                          IsEnabled="{Binding Slot3.IsControlsEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" Click="Slot3CheckSel_Click"/>
                <CheckBox x:Name="Slot3CheckMst"
                          Grid.Row="3" Grid.Column="2"
                          Tag="{Binding Slot3}"
                          Checked="MasterCheck_Checked" Unchecked="MasterCheck_Unchecked"
                          IsChecked="{Binding Slot3.isMaster, Mode=TwoWay}"
                          IsEnabled="{Binding Slot3.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <CheckBox x:Name="Slot3CheckSlv"
                          Grid.Row="3" Grid.Column="3"
                          Tag="{Binding Slot3}"
                          Content="Slave"
                          Checked="SlaveCheck_Checked" Unchecked="SlaveCheck_Unchecked"
                          IsChecked="{Binding Slot3.isSlave, Mode=TwoWay}"
                          IsEnabled="{Binding Slot3.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <TextBox x:Name="Slot3_UnitSlNo"
                         Grid.Row="3" Grid.Column="4"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot3CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot3.UnitSlNo, Mode=TwoWay}"/>
                <TextBox x:Name="Slot3_UnitSINo"
                         Grid.Row="3" Grid.Column="6"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot3CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot3.UnitSINo, Mode=TwoWay}"/>

                <!-- Slot 4 -->
                <Ellipse x:Name="Slot4Ellipse" Grid.Row="4" Grid.Column="0" Width="40" Height="40"
                         Fill="{Binding Slot4.SlotBrush}" HorizontalAlignment="Center" Margin="0,5"/>
                <CheckBox x:Name="Slot4CheckSel"
                          Grid.Row="4" Grid.Column="1"
                          IsChecked="{Binding Slot4.isSlotSelected, Mode=TwoWay}"
                          IsEnabled="{Binding Slot4.IsControlsEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" Click="Slot4CheckSel_Click"/>
                <CheckBox x:Name="Slot4CheckMst"
                          Grid.Row="4" Grid.Column="2"
                          Tag="{Binding Slot4}"
                          Checked="MasterCheck_Checked" Unchecked="MasterCheck_Unchecked"
                          IsChecked="{Binding Slot4.isMaster, Mode=TwoWay}"
                          IsEnabled="{Binding Slot4.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <CheckBox x:Name="Slot4CheckSlv"
                          Grid.Row="4" Grid.Column="3"
                          Tag="{Binding Slot4}"
                          Content="Slave"
                          Checked="SlaveCheck_Checked" Unchecked="SlaveCheck_Unchecked"
                          IsChecked="{Binding Slot4.isSlave, Mode=TwoWay}"
                          IsEnabled="{Binding Slot4.IsMasterSlaveEnabled}"
                          Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                <TextBox x:Name="Slot4_UnitSlNo"
                         Grid.Row="4" Grid.Column="4"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot4CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot4.UnitSlNo, Mode=TwoWay}"/>
                <TextBox x:Name="Slot4_UnitSINo"
                         Grid.Row="4" Grid.Column="6"
                         Width="60" Margin="5,0"
                         Visibility="{Binding IsChecked, ElementName=Slot4CheckSel, Converter={StaticResource BoolToVis}}"
                         Text="{Binding Slot4.UnitSINo, Mode=TwoWay}"/>
            </Grid>
        </StackPanel>

        <!-- LAYOUT 2: Simple Cartridge Section with DARIN Cartridges -->
        <StackPanel x:Name="SimpleCartridgeSection" Grid.Column="0" Background="#E0E0E0" 
                    Margin="0,87,0,193" Grid.RowSpan="3" Grid.ColumnSpan="4" Visibility="Collapsed">
            <Label Content="CARTRIDGES" FontSize="24" FontWeight="Bold" Foreground="#2D3142"/>
            <StackPanel Orientation="Horizontal" Margin="10">
                <Ellipse x:Name="Darin1Ellipse" Height="40" Width="40" Fill="#27AE60" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBlock x:Name="Darin1Label" Text="DARIN1 CARTRIDGE" FontSize="14"  VerticalAlignment="Center" FontWeight="Bold" Width="142"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="10">
                <Ellipse x:Name="Darin2Ellipse" Height="40" Width="40" Fill="#27AE60" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBlock Text="DARIN2 CARTRIDGE" FontSize="14" FontWeight="Bold" VerticalAlignment="Center" Width="139"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="10">
                <Ellipse x:Name="Darin3Ellipse" Height="40" Width="40" Fill="#27AE60" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBlock Text="DARIN3 CARTRIDGE" FontSize="14" FontWeight="Bold" VerticalAlignment="Center" Width="143"/>
            </StackPanel>
        </StackPanel>

        <!-- Commands Section -->
        <StackPanel Grid.Row="1" Grid.Column="4" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10,0,0" Height="420" Width="500">
            <Label x:Name="CommandsLabel" Content="COMMANDS" FontSize="24" FontWeight="Bold" Foreground="#2D3142" HorizontalAlignment="Center" Margin="10"/>
            <UniformGrid Rows="3" Columns="3" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button x:Name="Erase" Content="ERASE" Click="Erase_Click" Style="{DynamicResource SharedButtonStyle}"/>
                <Button x:Name="Write" Content="WRITE" Click="Write_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="Read" Content="READ" Click="Read_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="Copy" Content="COPY" Click="Copy_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="Compare_LoopBack" Content="COMPARE" Click="Compare_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="Format" Content="FORMAT" Click="Format_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="Exit" Content="EXIT" Click="Exit_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Button x:Name="LoopBack" Content="LOOP BACK" Click="LoopBack_Click" Style="{StaticResource SharedButtonStyle}"/>
                <Grid>
                    <Button x:Name="AppButton" Content="PRGM" Click="AppButton_Click" Style="{StaticResource SharedButtonStyle}" Visibility="Collapsed"/>
                    <Button x:Name="Close" Content="CLOSE" Click="Close_Click" Style="{StaticResource SharedButtonStyle}"/>
                    <Button x:Name="PerformanceCheck" Content="PC" Click="PerformanceCheck_Click" Style="{StaticResource SharedButtonStyle}" Visibility="Collapsed"/>
                    <Button x:Name="Utility" Content="UTILITY" Click="Utility_Click" Style="{StaticResource SharedButtonStyle}" Visibility="Collapsed"/>
                </Grid>
            </UniformGrid>
            <ProgressBar x:Name="OperationProgressBar" Width="472" Height="30" Margin="10" HorizontalAlignment="Center"/>
        </StackPanel>

        <!-- LAYOUT 1: Detailed Performance Check Block -->
        <StackPanel x:Name="DPSPerformanceCheckBlock" Visibility="Visible" Grid.Column="5" Background="#E0E0E0" 
                    Margin="9,87,35,165" Grid.RowSpan="2" Grid.ColumnSpan="3">
            <Label Content="PERFORMANCE CHECK" FontSize="24" FontWeight="Bold" Foreground="#2D3142" HorizontalAlignment="Center" Margin="10"/>
            <Border BorderBrush="Black" BorderThickness="1" Grid.ColumnSpan="2" Grid.RowSpan="1" Width="404">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                    <RadioButton x:Name="DPSwithCart" Content="With Cartridge" GroupName="CartridgeOption" FontSize="14" FontWeight="Bold" Width="212" Click="withCart_Click"/>
                    <RadioButton x:Name="DPSwithOutCart" Content="Without Cartridge" GroupName="CartridgeOption" FontWeight="Bold" FontSize="14" IsChecked="True" Margin="10,0,0,0" Click="withOutCart_Click"/>
                </StackPanel>
            </Border>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <Button x:Name="DPSNewLog" Content="New Log" Width="194" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="NewLog_Click" />
                <Button x:Name="DPSOldLog" Content="Old Log" Width="197" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="OldLog_Click"/>
            </StackPanel>
            <Grid Height="262" Width="397">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Content="Test No" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DPSTestNumber" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Label Content="Inspector Name" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DPSInspectorName" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="1" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Label Content="Unit Sl.No" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DPSUnitSINo" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="2" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>

                <!-- Dynamic DTC Serial Number Fields for each slot -->
                <Label x:Name="L_DPSDTCSINo1" Content="DTC Sl.No Slot-1" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0">
                    
                </Label>
                <TextBox x:Name="DPSDTCSINo1" Text="999" Grid.Row="3" Grid.Column="1" FontSize="15" FontWeight="Bold" Margin="0,5,0,5" VerticalAlignment="Center">
               
                </TextBox>

                <Label x:Name="L_DPSDTCSINo2" Content="DTC Sl.No Slot-2" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0">
                   
                </Label>
                <TextBox x:Name="DPSDTCSINo2" Text="999" Grid.Row="4" Grid.Column="1" FontSize="15" FontWeight="Bold" Margin="0,5,0,5" VerticalAlignment="Center">
          
                </TextBox>

                <Label x:Name="L_DPSDTCSINo3" Content="DTC Sl.No Slot-3" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0">

                </Label>
                <TextBox x:Name="DPSDTCSINo3" Text="999" Grid.Row="5" Grid.Column="1" FontSize="15" FontWeight="Bold" Margin="0,5,0,5" VerticalAlignment="Center">

                </TextBox>

                <Label x:Name="L_DPSDTCSINo4" Content="DTC Sl.No Slot-4" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0">

                </Label>

                <TextBox x:Name="DPSDTCSINo4" Text="999" Grid.Row="6" Grid.Column="1" FontSize="15" FontWeight="Bold" Margin="0,5,0,5" VerticalAlignment="Center">
                </TextBox>

                <Button x:Name="DPSConfirmLog" Content="Confirm Log" Style="{StaticResource PCSharedButtonStyle}" Grid.Row="7" Click="ConfirmLog_Click" Margin="0,3,0,0" Grid.Column="1" Height="33" VerticalAlignment="Top"/>
            </Grid>
            <Grid Margin="10" Height="61">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <RadioButton x:Name="DPSIterationSel" Content="No of Iterations" FontSize="14" FontWeight="Bold" Grid.Column="0" VerticalAlignment="Center" IsChecked="True" Margin="54,0,41,0"/>
                <TextBox x:Name="DPSIterationCount" Text="1" Grid.Row="0" FontWeight="Bold" FontSize="15" Grid.ColumnSpan="4" Margin="184,0,110,62" Grid.RowSpan="2"/>
                <RadioButton x:Name="DPSDurationSel" Content="Duration" FontSize="14" FontWeight="Bold" Grid.Row="1" Grid.Column="0" VerticalAlignment="Top" Margin="56,12,74,0"/>
                <TextBox x:Name="DPSDurationMin" Text="0" Grid.Row="1" FontWeight="Bold" FontSize="15" Margin="184,0,110,33" Grid.ColumnSpan="4" Height="25" VerticalAlignment="Bottom"/>
                <Label Content="Min" VerticalAlignment="Top" HorizontalAlignment="Right" Width="45" Margin="0,6,69,0" FontSize="14" Grid.Column="2" RenderTransformOrigin="0.024,0.611" Grid.ColumnSpan="2" Grid.Row="1"/>
                <TextBox x:Name="DPSDurationSec" Text="10" Grid.Column="3" FontWeight="Bold" FontSize="15" Margin="65,9,30,35" Grid.Row="1"/>
                <Label Content="Sec" Grid.Column="3" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="111,8,0,0" FontSize="14" Width="35" RenderTransformOrigin="1.387,-0.482" Grid.Row="1"/>
            </Grid>
            <StackPanel Orientation="Horizontal" Width="402" Margin="0,-20,0,0">
                <Button x:Name="DPSInitiatePC" Content="Initiate PC" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="InitiatePC_Click"/>
                <Button x:Name="DPSStopPc" Content="Stop" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="StopPc_Click"/>
                <Button x:Name="DPSClosePC" Content="Close" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="ClosePC_Click"/>
            </StackPanel>
            <ProgressBar x:Name="DPSPCProgressBar" Width="379" Height="30" Margin="0" Minimum="0" Maximum="100" Value="0"/>
            <Grid Margin="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="150"/>
                </Grid.ColumnDefinitions>
                <Label Content="Time Elapsed :" Grid.Column="0" FontWeight="Bold" VerticalAlignment="Top" FontSize="14" Margin="48,-1,5,0"/>
                <TextBox x:Name="DPSTimeElapsed" Width="100" Text="00000" FontSize="15" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="0,0,0,43"/>
                <Label Content="Sec" Grid.Column="2" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="5,-2,107,0"/>
                <Label Content="Itr No" Grid.Column="0" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="94,21,1,0"/>
                <TextBox x:Name="DPSCurrentIteration" Width="100" Text="00000" FontWeight="Bold" FontSize="15" Margin="0,24,0,18" Grid.Column="1"/>
                <Label Content="RESULT" Grid.Column="2" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="31,19,60,0"/>
                <TextBox x:Name="DPSPCResultDisplay" FontWeight="Bold" FontSize="15" Text="" Grid.Column="2" Margin="92,22,8,20"/>
            </Grid>
            <StackPanel Height="100"/>
        </StackPanel>

        <!-- LAYOUT 2: Simple Performance Check Block -->
        <StackPanel x:Name="DTCLPerformanceCheckBlock" Visibility="Collapsed" Grid.Column="5" Background="#E0E0E0" 
                    Margin="9,87,35,164" Grid.RowSpan="3" Grid.ColumnSpan="3">
            <Label Content="PERFORMANCE CHECK" FontSize="24" FontWeight="Bold" Foreground="#2D3142" HorizontalAlignment="Center" Margin="10"/>
            <Border BorderBrush="Black" BorderThickness="1" Grid.ColumnSpan="2" Grid.RowSpan="1" Width="404">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                    <RadioButton x:Name="DTCLwithCart" Content="With Cartridge" GroupName="CartridgeOption2" FontSize="14" FontWeight="Bold" Width="212" Click="withCart_Click"/>
                    <RadioButton x:Name="DTCLwithOutCart" Content="Without Cartridge" GroupName="CartridgeOption2" FontWeight="Bold" FontSize="14" IsChecked="True" Margin="10,0,0,0" Click="withOutCart_Click"/>
                </StackPanel>
            </Border>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <Button x:Name="DTCLNewLog" Content="New Log" Width="194" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="NewLog_Click" />
                <Button x:Name="DTCLOldLog" Content="Old Log" Width="197" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="OldLog_Click"/>
            </StackPanel>
            <Grid Height="165" Width="397">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Label Content="Test No" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DTCLTestNumber" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Label Content="Inspector Name" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DTCLInspectorName" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="1" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Label Content="Unit Sl.No" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DTCLUnitSINo" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="2" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Label x:Name="L_DTCLDTCSINo" Content="DTC Sl.No" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" FontSize="14" HorizontalAlignment="Right" Margin="0,0,5,0"/>
                <TextBox x:Name="DTCLDTCSINo" Text="999" FontSize="15" FontWeight="Bold" Grid.Row="3" Grid.Column="1" Margin="0,5,0,5" VerticalAlignment="Center"/>
                <Button x:Name="DTCLConfirmLog" Content="Confirm Log" Style="{StaticResource PCSharedButtonStyle}" Grid.Row="4" Click="ConfirmLog_Click" Margin="0,3,0,0" Grid.Column="1" Height="33" VerticalAlignment="Top"/>
            </Grid>
            <Grid Margin="10" Height="61">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <RadioButton x:Name="DTCLIterationSel" Content="No of Iterations" FontSize="14" FontWeight="Bold" Grid.Column="0" VerticalAlignment="Center" IsChecked="True" Margin="54,0,41,0"/>
                <TextBox x:Name="DTCLIterationCount" Text="1" Grid.Row="0" FontWeight="Bold" FontSize="15" Grid.ColumnSpan="4" Margin="184,0,110,62" Grid.RowSpan="2"/>
                <RadioButton x:Name="DTCLDurationSel" Content="Duration" FontSize="14" FontWeight="Bold" Grid.Row="1" Grid.Column="0" VerticalAlignment="Top" Margin="56,12,74,0"/>
                <TextBox x:Name="DTCLDurationMin" Text="0" Grid.Row="1" FontWeight="Bold" FontSize="15" Margin="184,0,110,33" Grid.ColumnSpan="4" Height="25" VerticalAlignment="Bottom"/>
                <Label Content="Min" VerticalAlignment="Top" HorizontalAlignment="Right" Width="45" Margin="0,6,69,0" FontSize="14" Grid.Column="2" RenderTransformOrigin="0.024,0.611" Grid.ColumnSpan="2" Grid.Row="1"/>
                <TextBox x:Name="DTCLDurationSec" Text="10" Grid.Column="3" FontWeight="Bold" FontSize="15" Margin="65,9,30,35" Grid.Row="1"/>
                <Label Content="Sec" Grid.Column="3" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="111,8,0,0" FontSize="14" Width="35" RenderTransformOrigin="1.387,-0.482" Grid.Row="1"/>
            </Grid>
            <StackPanel Orientation="Horizontal" Width="401">
                <Button x:Name="DTCLInitiatePC" Content="Initiate PC" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="InitiatePC_Click"/>
                <Button x:Name="DTCLStopPc" Content="Stop" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="StopPc_Click"/>
                <Button x:Name="DTCLClosePC" Content="Close" Width="115" Height="40" Style="{StaticResource PCSharedButtonStyle}" Click="ClosePC_Click"/>
            </StackPanel>
            <ProgressBar x:Name="DTCLPCProgressBar" Width="379" Height="30" Margin="10" Minimum="0" Maximum="100" Value="0"/>
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="150"/>
                </Grid.ColumnDefinitions>
                <Label Content="Time Elapsed :" Grid.Column="0" FontWeight="Bold" VerticalAlignment="Top" FontSize="14" Margin="48,-1,5,0"/>
                <TextBox x:Name="DTCLTimeElapsed" Width="100" Text="00000" FontSize="15" FontWeight="Bold" Grid.Row="0" Grid.Column="1" Margin="0,0,0,43"/>
                <Label Content="Sec" Grid.Column="2" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="5,-2,107,0"/>
                <Label Content="Itr No" Grid.Column="0" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="94,21,1,0"/>
                <TextBox x:Name="DTCLCurrentIteration" Width="100" Text="00000" FontWeight="Bold" FontSize="15" Margin="0,24,0,18" Grid.Column="1"/>
                <Label Content="RESULT" Grid.Column="2" VerticalAlignment="Top" FontSize="14" FontWeight="Bold" Margin="31,19,60,0"/>
                <TextBox x:Name="DTCLPCResultDisplay" FontWeight="Bold" FontSize="15" Text="" Grid.Column="2" Margin="92,22,8,20"/>
            </Grid>
            <StackPanel Height="100"/>
        </StackPanel>

        <!-- Status Section -->
        <Grid Grid.Row="1" Grid.ColumnSpan="5" Background="#E0E0E0" Margin="0,450,43,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="4*"/>
            </Grid.ColumnDefinitions>
            <Label Content="Status/Cautions/Prompts" FontSize="24" FontWeight="Bold" Foreground="#2D3142" HorizontalAlignment="Left" Margin="74,0,0,10" Grid.Column="1"/>
            <Border Grid.Column="1" Background="White" BorderBrush="Gray" BorderThickness="1" Margin="74,40,0,167" Padding="10" HorizontalAlignment="Left" Width="523">
                <TextBlock x:Name="StatusTextBlock" Text="" FontSize="24" FontWeight="Bold" Foreground="#2D3142" VerticalAlignment="Center" Padding="10" Height="105"/>
            </Border>
            <Image x:Name="Logo" HorizontalAlignment="Left" Height="46" Margin="10,66,0,0" VerticalAlignment="Top" Width="58" Source="/swave_icon.png" MouseDown="Logo_MouseDown"/>
            <TextBlock Text="S-WAVE SYSTEMS PVT LTD" Grid.ColumnSpan="2" Margin="64,69,550,216"/>
        </Grid>

        <!-- Log Section -->
        <Grid Grid.Row="2" Grid.ColumnSpan="8" Background="#E0E0E0" Margin="0,122,0,-122"/>
    </Grid>
</Window>